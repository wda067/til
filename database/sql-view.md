# 뷰

## 개념

- 실제 데이터를 가지고 있지 않은 '**가상의 테이블**'이다.
- 데이터베이스에 이름과 함께 저장된 하나의 `SELECT` 쿼리문이다.
- 뷰는 데이터를 저장하지 않기 때문에 **항상 최신 상태**의 원본 테이블을 기준으로 쿼리가 실행된다.
- 뷰의 장점은 다음과 같다.
  - **편의성**: 복잡한 쿼리를 단순화하여 **쉽게 재사용**할 수 있다.
  - **보안성**: 사용자에게 원본 테이블에 대한 **접근 권한을 주지 않고**, 제한된 데이터에 접근할 수 있도록 허용할 수 있다.
  - **논리적 독립성**: 원본 테이블의 구조가 일부 변경되더라도, 뷰의 정의만 수정하면 뷰를 사용하는 응용 프로그램은 코드를 바꿀 필요가 없을 수도 있다. 일종의 **추상화 계층** 역할을 한다.

## 뷰 생성
- 뷰 이름 앞에는 `v_`나 `view_`같은 접두사를 붙여서 다른 테이블과 구분할 수 있도록 한다.
```sql
CREATE VIEW 뷰이름 AS SELECT 쿼리문;
```
- `WHERE`절이나 `ORDER BY`를 사용해 필터링하거나 정렬할 수도 있다.

## 뷰 수정

```sql
ALTER VIEW 뷰이름 AS SELECT 쿼리문;
```

## 뷰 삭제

```sql
DROP VIEW 뷰이름;
```

## 주의사항

- **성능 문제**
  - 뷰의 구조가 너무 복잡해지면 최적의 실행계획을 찾아내는데 어려움을 겪을 수 있다.
  - 뷰 위에 다른 뷰를 쌓는 방식(Nested Views)은 성능 저하의 주된 원인이 된다.
- **업데이트 제약**
  - 뷰는 **기본적으로 조회용**이라고 생각하는게 가장 안전하고 일반적이다.
